'use client';

import { useEffect, useState } from "react";

const baseColor: string = "#b3ddec";
const highlightColor: string = "#fff";
const textColor: string = "#041723";

const svgWidth = 16;
const svgHeight = 16;

const textSize = 45;

const shimmerRadius = 15;

export default function WikiWongosInteractiveLogo() {
  const [mousePosition, setMousePosition] = useState({ x: 200, y: 200 });

  useEffect(() => {
    function handleMouseMove(e: MouseEvent) {
      setMousePosition({ x: e.clientX, y: e.clientY });
    }

    function handleTouchMove(e: TouchEvent) {
      const touch = e.touches[0];
      setMousePosition({ x: touch.clientX, y: touch.clientY });
    }

    window.addEventListener('mousemove', handleMouseMove);
    window.addEventListener('touchmove', handleTouchMove);

    return () => { 
      window.removeEventListener('mousemove', handleMouseMove);
      window.removeEventListener('touchmove', handleTouchMove);
    }
  }, []);

  const cx = Math.max(0, Math.min((mousePosition.x / window.innerWidth) * textSize, textSize));
  const cy = Math.max(0, Math.min((mousePosition.y / window.innerHeight) * textSize, textSize));

  return (<svg
    width="100%"
    height="100%"
    viewBox={`0 0 ${svgWidth} ${svgHeight}`}
    version="1.1"
    xmlns="http://www.w3.org/2000/svg"
    style={{
      userSelect: "none",
      pointerEvents: "none",
      fillRule: "evenodd",
      clipRule: "evenodd",
      strokeLinejoin: "round",
      strokeMiterlimit: 2
    }}>

    <defs>
      <radialGradient id="mouseGradient" cx={cx} cy={cy} r={shimmerRadius} gradientUnits="userSpaceOnUse">
        <stop offset="0%" stopColor={highlightColor} />
        <stop offset="40%" stopColor={highlightColor} />
        <stop offset="100%" stopColor={baseColor} />
      </radialGradient>
    </defs>

    <g transform="matrix(0.313995,0,0,0.313995,1.18443,2.97403)">
      <g transform="matrix(45.3982,0,0,45.3982,43.3138,31.7849)"></g>

      <text x="0.022px" y="31.785px"
        style={{
          fontFamily: "'LinLibertine', 'Linux Libertine'",
          fontSize: `${textSize}px`,
          fill: textColor,
        }}>W</text>
      <path d="M12.546,-0.065c0.745,-0.873 1.848,-1.368 3.005,-1.338c2.37,0.063 3.851,0.096 4.443,0.096c0.829,-0 2.648,-0.033 5.456,-0.096c1.244,-0.028 2.423,0.552 3.161,1.554l0.715,1.485l0.205,1.61l-0.215,1.638l-0.823,1.584c-0.31,0.38 -0.686,0.691 -1.105,0.924l2.495,7.678l2.634,-7.509c-0.361,-0.156 -0.698,-0.366 -0.997,-0.627l-0.657,-0.721l-0.556,-1.046l-0.32,-1.909l0.288,-1.837l0.941,-1.591c0.747,-0.813 1.808,-1.262 2.911,-1.233c2.375,0.064 4.003,0.096 4.886,0.096c0.388,-0 1.667,-0.033 3.836,-0.095c1.252,-0.037 2.443,0.544 3.185,1.553l0.706,1.445l0.224,1.578l-0.237,1.791l-0.434,0.971l-0.523,0.701c-0.678,0.738 -1.62,1.18 -2.621,1.23c-0.14,0.007 -0.321,0.032 -0.459,0.054c-0.011,0.048 -0.019,0.102 -0.038,0.154l-0.008,0.023l-8.908,24.417l-0.733,1.47l-0.857,0.96l-1.502,0.895l-1.641,0.315l-0.098,0.002l-1.626,-0.246l-1.593,-0.834l-1.161,-1.264l-0.651,-1.343l-0.011,-0.032l-2.594,-7.821l-3.102,7.941l-0.962,1.721l-1.17,1.063l-1.278,0.599l-1.337,0.214l-0.098,0.002l-1.635,-0.249l-1.606,-0.854l-1.159,-1.293c-0,0 -0.593,-1.278 -0.617,-1.317l-8.231,-24.579c-0.992,-0.055 -1.924,-0.495 -2.597,-1.228l-0.833,-1.34l-0.264,-0.954l-0.087,-1.085l0.201,-1.608l0.718,-1.499c0.741,-1.006 1.928,-1.587 3.177,-1.554c2.365,0.063 3.743,0.096 4.132,0.096c1.385,-0 3.051,-0.032 4.998,-0.095c1.164,-0.038 2.277,0.459 3.027,1.337Zm1.973,15.499l1.904,-4.975c0.039,-0.122 0.064,-0.244 0.064,-0.367c-0,-0.015 -0.018,-0.025 -0.024,-0.041l-0.007,-0.024l-0.675,-2.056l-0.049,-0.042c-0.118,-0.093 -0.294,-0.053 -0.487,-0.063c-0.996,-0.054 -1.931,-0.495 -2.606,-1.229l-0.077,-0.124c-0.215,0.255 -0.46,0.479 -0.728,0.667l2.685,8.254Zm22.499,-9.174l-7.226,20.607l-0.089,0l-6.539,-20.122c-0.237,-0.47 -0.303,-0.871 -0.2,-1.202c0.104,-0.331 0.189,-0.581 0.255,-0.75c0.067,-0.169 0.266,-0.313 0.599,-0.43c0.332,-0.118 0.595,-0.191 0.787,-0.221c0.192,-0.029 0.502,-0.059 0.931,-0.088c0.118,-0.145 0.177,-0.414 0.177,-0.808c0,-0.394 -0.059,-0.672 -0.177,-0.832c-2.852,0.064 -4.7,0.096 -5.542,0.096c-0.606,0 -2.121,-0.032 -4.544,-0.096c-0.118,0.16 -0.178,0.442 -0.178,0.844c0,0.402 0.06,0.667 0.178,0.796c1.093,0.059 1.973,0.349 2.638,0.871c0.665,0.521 1.101,1.127 1.308,1.818l0.687,2.093c0.147,0.441 0.221,0.86 0.221,1.256c0,0.573 -0.103,1.146 -0.31,1.719l-5.719,14.943l-0.089,-0l-6.805,-20.922c-0.148,-0.483 -0.133,-0.851 0.044,-1.106c0.178,-0.255 0.433,-0.424 0.765,-0.507c0.333,-0.082 0.817,-0.138 1.452,-0.165c0.118,-0.145 0.177,-0.414 0.177,-0.808c0,-0.394 -0.059,-0.672 -0.177,-0.832c-1.995,0.064 -3.702,0.096 -5.121,0.096c-0.399,0 -1.81,-0.032 -4.233,-0.096c-0.119,0.16 -0.178,0.442 -0.178,0.844c0,0.402 0.059,0.667 0.178,0.796c1.093,0.056 1.828,0.21 2.205,0.463c0.377,0.252 0.765,0.926 1.164,2.02l8.268,24.696c0.237,0.737 0.702,1.106 1.397,1.106c0.576,-0.015 0.997,-0.382 1.263,-1.103l6.318,-16.172c0.251,-0.751 0.465,-1.126 0.643,-1.126c0.148,0 0.354,0.42 0.62,1.258l5.321,16.04c0.251,0.735 0.724,1.103 1.418,1.103c0.577,-0.015 0.983,-0.368 1.219,-1.059l8.934,-24.49c0.31,-0.868 0.742,-1.526 1.297,-1.975c0.554,-0.448 1.422,-0.702 2.604,-0.761c0.133,-0.145 0.196,-0.414 0.189,-0.808c-0.008,-0.394 -0.071,-0.672 -0.189,-0.832c-2.231,0.064 -3.547,0.096 -3.946,0.096c-0.901,0 -2.564,-0.032 -4.987,-0.096c-0.148,0.16 -0.222,0.442 -0.222,0.844c0,0.402 0.074,0.667 0.222,0.796c0.325,0.029 0.587,0.051 0.787,0.066c0.199,0.015 0.443,0.044 0.731,0.088c0.288,0.045 0.506,0.096 0.654,0.155c0.148,0.059 0.314,0.14 0.499,0.243c0.185,0.102 0.307,0.231 0.366,0.386c0.059,0.154 0.088,0.338 0.088,0.551c0,0.213 -0.044,0.452 -0.133,0.717Z" fill="url(#mouseGradient)" /></g>
  </svg>)
}
